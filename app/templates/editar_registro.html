<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Editar registro - Ciclo em Foco</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"/>
  <style>
    :root{
      --bg1:#6f1d1b; --bg2:#4a0d0a; --card:#7a2a25; --accent:#ffcfcf; --text:#fff; --muted:#d9c9c7;
    }
    body{
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
      color: var(--text);
      font-family: "Arial", sans-serif;
      padding-top: 80px;
      margin: 0;
    }
    .navbar{
      background-color: var(--bg2);
      box-shadow: 0 2px 6px rgba(0,0,0,0.4);
    }
    .navbar-brand{ font-weight: bold; }
    .nav-link{ color: #fff !important; font-weight: bold; }

    .container-narrow{ max-width: 800px; margin: 0 auto; }
    .page-title{
      text-align: center; font-weight: bold; margin-bottom: 1rem;
    }
    .subtitle{
      text-align: center; color: var(--muted); margin-bottom: 2rem; font-size: 0.95rem;
    }
    .card-form{
      background: var(--card);
      border-radius: 16px;
      padding: 1.2rem;
      box-shadow: 0 6px 18px rgba(0,0,0,0.35);
    }
    .form-group label{ font-weight: bold; }
    .form-control{
      border: none; border-radius: 8px;
      box-shadow: inset 0 1px 2px rgba(0,0,0,0.25);
    }
    .helper{
      display:block; color: var(--muted); font-size: 0.85rem; margin-top: 0.25rem;
    }

    .btn-primary{
      background-color: var(--accent); color: var(--bg2);
      font-weight: bold; border: none; border-radius: 8px;
      padding: 0.6rem 1.1rem;
    }
    .btn-outline-light{
      border-radius: 8px; border-width: 2px;
    }

    .info-bar{
      display:flex; justify-content: space-between; align-items:center;
      margin-bottom: 1rem; flex-wrap: wrap; gap: .6rem;
    }
    .badge-soft{
      background: rgba(255,255,255,0.15); color: #fff;
      border: 1px solid rgba(255,255,255,0.25);
      padding: .35rem .6rem; border-radius: 999px; font-size: .85rem;
    }

    footer{
      text-align:center; padding:1rem; font-size:.9rem;
      color:#ccc; background-color: var(--bg2); margin-top:2rem;
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
    <a class="navbar-brand" href="/">Ciclo em Foco</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Abrir navegação">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item"><a class="nav-link" href="/">Início</a></li>
        <li class="nav-item"><a class="nav-link" href="/registro/">Registro</a></li>
        <li class="nav-item"><a class="nav-link" href="/previsao/">Previsão</a></li>
        <li class="nav-item"><a class="nav-link" href="/dicas/">Dicas</a></li>
        <li class="nav-item"><a class="nav-link" href="/sintomas/">Sintomas</a></li>
        <li class="nav-item"><a class="nav-link" href="/historico/">Histórico</a></li>
      </ul>
      {% if user.is_authenticated %}
        <form action="/logout/" method="post" style="display:inline;">
          {% csrf_token %}
          <button type="submit" class="btn btn-light btn-sm">Sair</button>
        </form>
      {% else %}
        <a href="/login/" class="btn btn-light btn-sm">Entrar</a>
      {% endif %}
    </div>
  </nav>

  <!-- Conteúdo -->
  <div class="container container-narrow mt-3">
    <h2 class="page-title">✏️ Editar registro do ciclo</h2>
    <p class="subtitle">Atualize a data da menstruação, sintomas e observações deste dia.</p>

    <div class="info-bar">
      <span class="badge-soft">ID: {{ registro.id }}</span>
      <span class="badge-soft">Criado em: {{ registro.criado_em|date:"d/m/Y H:i" }}</span>
    </div>

    <div class="card-form">
      <form method="post">
        {% csrf_token %}

        <div class="form-group">
          <label for="data_menstruacao">Dia da menstruação</label>
          <input
            type="date"
            id="data_menstruacao"
            name="data_menstruacao"
            class="form-control"
            value="{{ registro.data_menstruacao }}"
            required
          />
          <small class="helper">Selecione o dia em que a menstruação ocorreu.</small>
        </div>

        <div class="form-group">
          <label for="sintomas">Sintomas sentidos</label>
          <textarea
            id="sintomas"
            name="sintomas"
            class="form-control"
            rows="3"
            placeholder="Ex.: cólica, dor de cabeça, sensibilidade mamária"
          >{{ registro.sintomas }}</textarea>
          <small class="helper">Liste os principais sintomas do dia.</small>
        </div>

        <div class="form-group">
          <label for="atividades">Atividades realizadas</label>
          <textarea
            id="atividades"
            name="atividades"
            class="form-control"
            rows="3"
            placeholder="Ex.: exercício leve, trabalho, descanso"
          >{{ registro.atividades }}</textarea>
          <small class="helper">Opcional: o que você fez nesse dia.</small>
        </div>

        <div class="form-group">
          <label for="observacoes">Observações</label>
          <textarea
            id="observacoes"
            name="observacoes"
            class="form-control"
            rows="3"
            placeholder="Ex.: fluxo intenso, uso de medicação, alterações de humor"
          >{{ registro.observacoes }}</textarea>
          <small class="helper">Opcional: detalhes adicionais que queira guardar.</small>
        </div>

        <div class="d-flex gap-2">
          <button type="submit" class="btn btn-primary mr-2">Salvar alterações</button>
          <a href="{% url 'historico' %}" class="btn btn-outline-light">Cancelar</a>
        </div>
      </form>
    </div>
  </div>

  <footer>
    <p>&copy; 2025 Ciclo em Foco - Todos os direitos reservados</p>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
